{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/jhmg/invitation-park/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/home/jhmg/invitation-park/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;/* eslint-disable jsx-a11y/img-redundant-alt */import{useState}from\"react\";import{useRecoilState}from\"recoil\";import Modal from\"react-modal\";import styled from\"@emotion/styled\";import{ClearButton}from\"@/atoms\";import{AlbumSlider}from\"./AlbumSlider\";import{modalState}from\"./MoreButton\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";Modal.setAppElement(\"#root\");var test=[\"/main.png\",\"/test169.jpeg\",\"/test916.png\"];export var AlbumModal=function AlbumModal(){var customStyles={overlay:{backgroundColor:\"#00000080\"},content:{top:\"50%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",padding:0,transform:\"translate(-50%, -50%)\",width:\"85vw\",maxHeight:\"80vh\",border:0,borderRadius:0}};var _useRecoilState=useRecoilState(modalState),_useRecoilState2=_slicedToArray(_useRecoilState,2),isOpen=_useRecoilState2[0],setIsOpen=_useRecoilState2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedIdx=_useState2[0],setselectedIdx=_useState2[1];var isSelected=selectedIdx!==undefined;var selectPhoto=function selectPhoto(idx){return function(){return setselectedIdx(idx);};};var resetPhoto=function resetPhoto(){return setselectedIdx(undefined);};var closeModal=function closeModal(){if(isSelected){resetPhoto();}else{setIsOpen(false);setTimeout(function(){return resetPhoto();},200);}};return/*#__PURE__*/_jsxs(Modal,{isOpen:isOpen,onRequestClose:closeModal,closeTimeoutMS:200,style:customStyles,children:[/*#__PURE__*/_jsx(List,{isHide:isSelected,children:Array.from({length:20},function(x,i){return i;}).map(function(idx){return/*#__PURE__*/_jsx(Button,{onClick:selectPhoto(idx),src:test[idx%3]},idx);})}),/*#__PURE__*/_jsx(AlbumSlider,{selected:selectedIdx})]});};var List=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: \",\";\\n  grid-template-columns: repeat(auto-fill, minmax(30%, auto));\\n  gap: 5px;\\n  padding: 20px;\\n\"])),function(_ref){var isHide=_ref.isHide;return isHide?\"none\":\"grid\";});var Button=styled(ClearButton)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: relative;\\n  padding-bottom: 100%;\\n  background-image: url(\",\");\\n  background-size: cover;\\n  background-position: center;\\n\"])),function(_ref2){var src=_ref2.src;return src;});","map":{"version":3,"names":["useState","useRecoilState","Modal","styled","ClearButton","AlbumSlider","modalState","setAppElement","test","AlbumModal","customStyles","overlay","backgroundColor","content","top","left","right","bottom","marginRight","padding","transform","width","maxHeight","border","borderRadius","isOpen","setIsOpen","selectedIdx","setselectedIdx","isSelected","undefined","selectPhoto","idx","resetPhoto","closeModal","setTimeout","Array","from","length","x","i","map","List","div","isHide","Button","src"],"sources":["/home/jhmg/invitation-park/src/pages/Gallery/Album/AlbumModal.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/img-redundant-alt */\nimport { useState } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport Modal from \"react-modal\";\nimport styled from \"@emotion/styled\";\n\nimport { ClearButton } from \"@/atoms\";\n\nimport { AlbumSlider } from \"./AlbumSlider\";\nimport { modalState } from \"./MoreButton\";\n\nModal.setAppElement(\"#root\");\n\nconst test = [\"/main.png\", \"/test169.jpeg\", \"/test916.png\"];\n\nexport const AlbumModal: React.FC = () => {\n  const customStyles = {\n    overlay: {\n      backgroundColor: \"#00000080\",\n    },\n    content: {\n      top: \"50%\",\n      left: \"50%\",\n      right: \"auto\",\n      bottom: \"auto\",\n      marginRight: \"-50%\",\n      padding: 0,\n      transform: \"translate(-50%, -50%)\",\n      width: \"85vw\",\n      maxHeight: \"80vh\",\n      border: 0,\n      borderRadius: 0,\n    },\n  };\n\n  const [isOpen, setIsOpen] = useRecoilState(modalState);\n  const [selectedIdx, setselectedIdx] = useState<undefined | number>();\n  const isSelected = selectedIdx !== undefined;\n\n  const selectPhoto = (idx: number) => () => setselectedIdx(idx);\n  const resetPhoto = () => setselectedIdx(undefined);\n  const closeModal = () => {\n    if (isSelected) {\n      resetPhoto();\n    } else {\n      setIsOpen(false);\n      setTimeout(() => resetPhoto(), 200);\n    }\n  };\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onRequestClose={closeModal}\n      closeTimeoutMS={200}\n      style={customStyles}\n    >\n      <List isHide={isSelected}>\n        {Array.from({ length: 20 }, (x, i) => i).map((idx) => (\n          <Button key={idx} onClick={selectPhoto(idx)} src={test[idx % 3]} />\n        ))}\n      </List>\n      <AlbumSlider selected={selectedIdx} />\n    </Modal>\n  );\n};\n\nconst List = styled.div<{ isHide: boolean }>`\n  display: ${({ isHide }) => (isHide ? \"none\" : \"grid\")};\n  grid-template-columns: repeat(auto-fill, minmax(30%, auto));\n  gap: 5px;\n  padding: 20px;\n`;\n\nconst Button = styled(ClearButton)<{ src: string }>`\n  position: relative;\n  padding-bottom: 100%;\n  background-image: url(${({ src }) => src});\n  background-size: cover;\n  background-position: center;\n`;\n"],"mappings":"qRAAA,+CACA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,cAAT,KAA+B,QAA/B,CACA,MAAOC,MAAP,KAAkB,aAAlB,CACA,MAAOC,OAAP,KAAmB,iBAAnB,CAEA,OAASC,WAAT,KAA4B,SAA5B,CAEA,OAASC,WAAT,KAA4B,eAA5B,CACA,OAASC,UAAT,KAA2B,cAA3B,C,wFAEAJ,KAAK,CAACK,aAAN,CAAoB,OAApB,EAEA,GAAMC,KAAI,CAAG,CAAC,WAAD,CAAc,eAAd,CAA+B,cAA/B,CAAb,CAEA,MAAO,IAAMC,WAAoB,CAAG,QAAvBA,WAAuB,EAAM,CACxC,GAAMC,aAAY,CAAG,CACnBC,OAAO,CAAE,CACPC,eAAe,CAAE,WADV,CADU,CAInBC,OAAO,CAAE,CACPC,GAAG,CAAE,KADE,CAEPC,IAAI,CAAE,KAFC,CAGPC,KAAK,CAAE,MAHA,CAIPC,MAAM,CAAE,MAJD,CAKPC,WAAW,CAAE,MALN,CAMPC,OAAO,CAAE,CANF,CAOPC,SAAS,CAAE,uBAPJ,CAQPC,KAAK,CAAE,MARA,CASPC,SAAS,CAAE,MATJ,CAUPC,MAAM,CAAE,CAVD,CAWPC,YAAY,CAAE,CAXP,CAJU,CAArB,CAmBA,oBAA4BvB,cAAc,CAACK,UAAD,CAA1C,oDAAOmB,MAAP,qBAAeC,SAAf,qBACA,cAAsC1B,QAAQ,EAA9C,wCAAO2B,WAAP,eAAoBC,cAApB,eACA,GAAMC,WAAU,CAAGF,WAAW,GAAKG,SAAnC,CAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,GAAD,QAAiB,kBAAMJ,eAAc,CAACI,GAAD,CAApB,EAAjB,EAApB,CACA,GAAMC,WAAU,CAAG,QAAbA,WAAa,SAAML,eAAc,CAACE,SAAD,CAApB,EAAnB,CACA,GAAMI,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAIL,UAAJ,CAAgB,CACdI,UAAU,GACX,CAFD,IAEO,CACLP,SAAS,CAAC,KAAD,CAAT,CACAS,UAAU,CAAC,iBAAMF,WAAU,EAAhB,EAAD,CAAqB,GAArB,CAAV,CACD,CACF,CAPD,CASA,mBACE,MAAC,KAAD,EACE,MAAM,CAAER,MADV,CAEE,cAAc,CAAES,UAFlB,CAGE,cAAc,CAAE,GAHlB,CAIE,KAAK,CAAExB,YAJT,wBAME,KAAC,IAAD,EAAM,MAAM,CAAEmB,UAAd,UACGO,KAAK,CAACC,IAAN,CAAW,CAAEC,MAAM,CAAE,EAAV,CAAX,CAA2B,SAACC,CAAD,CAAIC,CAAJ,QAAUA,EAAV,EAA3B,EAAwCC,GAAxC,CAA4C,SAACT,GAAD,qBAC3C,KAAC,MAAD,EAAkB,OAAO,CAAED,WAAW,CAACC,GAAD,CAAtC,CAA6C,GAAG,CAAExB,IAAI,CAACwB,GAAG,CAAG,CAAP,CAAtD,EAAaA,GAAb,CAD2C,EAA5C,CADH,EANF,cAWE,KAAC,WAAD,EAAa,QAAQ,CAAEL,WAAvB,EAXF,GADF,CAeD,CAlDM,CAoDP,GAAMe,KAAI,CAAGvC,MAAM,CAACwC,GAAV,mLACG,kBAAGC,OAAH,MAAGA,MAAH,OAAiBA,OAAM,CAAG,MAAH,CAAY,MAAnC,EADH,CAAV,CAOA,GAAMC,OAAM,CAAG1C,MAAM,CAACC,WAAD,CAAT,+MAGc,mBAAG0C,IAAH,OAAGA,GAAH,OAAaA,IAAb,EAHd,CAAZ"},"metadata":{},"sourceType":"module"}